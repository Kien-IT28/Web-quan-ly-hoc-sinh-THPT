<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <!-- Link Icon-->
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
            integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
    />
</head>
<body >

<section layout:fragment="content" class="container mt-5">

    <div class="pagetitle">
        <h1>Thống Kê</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item active">Thống Kê</li>
            </ol>
        </nav>
    </div><!-- End Page Title -->

    <section class="section dashboard">
        <div class="row">

            <!-- Left side columns -->
            <div class="col-lg-12">
                <div class="row">

<!--                    &lt;!&ndash; Học Sinh Card &ndash;&gt;-->
<!--                    <div class="col-xxl-4 col-md-6">-->
<!--                        <div class="card info-card sales-card">-->

<!--                            <div class="card-body">-->
<!--                                <h5 class="card-title">Học Sinh</h5>-->

<!--                                <div class="d-flex align-items-center">-->
<!--                                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">-->
<!--                                        <i class="bi bi-person"></i>-->
<!--                                    </div>-->
<!--                                    <div class="ps-3">-->
<!--                                        <h6 id="totalHocSinh">0</h6> &lt;!&ndash; Hiển thị số lượng học sinh &ndash;&gt;-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>&lt;!&ndash; End Học Sinh Card &ndash;&gt;-->

                    <!-- Tài Khoản Người Dùng Card -->
                    <div class="col-xxl-4 col-md-6">
                        <div class="card info-card revenue-card">

                            <div class="card-body">
                                <h5 class="card-title">Tài Khoản Người Dùng</h5>

                                <div class="d-flex align-items-center">
                                    <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                                        <i class="bi bi-people"></i>
                                    </div>
                                    <div class="ps-3">
                                        <h6 id="totalAccount">0</h6> <!-- Hiển thị số lượng tài khoản người dùng -->
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div><!-- End Tài Khoản Người Dùng Card -->

                </div>
            </div><!-- End Left side columns -->

        </div>
    </section>

</section>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Lấy tổng số học sinh từ API
        fetch('/api/totalhocsinh')
            .then(response => response.json())
            .then(totalHocSinh => {
                // Kiểm tra nếu có dữ liệu trả về
                if (totalHocSinh) {
                    // Hiển thị số lượng học sinh lên giao diện
                    document.getElementById('totalHocSinh').innerText = totalHocSinh;
                } else {
                    document.getElementById('totalHocSinh').innerText = 'Không có dữ liệu';
                }
            })
            .catch(error => {
                console.error('Lỗi khi lấy dữ liệu học sinh:', error);
                document.getElementById('totalHocSinh').innerText = 'Lỗi khi lấy dữ liệu';
            });

        // Lấy tổng số tài khoản người dùng từ API
        fetch('/api/totalaccount')
            .then(response => response.json())
            .then(totalAccount => {
                // Hiển thị số lượng tài khoản lên giao diện
                document.getElementById('totalAccount').innerText = totalAccount;
            })
            .catch(error => {
                console.error('Lỗi khi lấy dữ liệu tài khoản:', error);
                document.getElementById('totalAccount').innerText = 'Lỗi khi lấy dữ liệu';
            });
    });
</script>


</body>
</html>
